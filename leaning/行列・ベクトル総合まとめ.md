# 行列・ベクトル総合まとめ（6月・7月）

## 1. 線形写像の基本概念

### 線形写像とは
- 写像は入力（ベクトルやある数）に対して，決まったルールで出力（別の数やベクトル）を対応させる「関数」のようなもの
- 線形写像は以下の2つの性質を満たす写像：
  1. **和を保つ（加法性）**：$f(u+v)=f(u)+f(v)$
  2. **スカラー倍を保つ（斉次性）**：$f(cu)=cf(u)$

### 線形写像の直感的理解
- **加法性**：「別々に入力をして足し合わせた結果」と「足し合わせてから入力した結果」が同じになる
- **斉次性**：「入力をc倍してから写像する」のと「写像してから結果をc倍する」のが同じになる

## 2. 行列と線形写像の関係

### 基本的な関係
- あるベクトルに行列を「作用させる」（かけ合わせる）と新しいベクトルに変換される
- この「行列によるベクトルの変換」こそが線形写像そのもの

### 直感的な例
- **画用紙**：ベクトル空間（絵を描ける場所）
- **画用紙の操作**（回転させる，伸ばす，ゆがませる）：線形写像
- 線形写像によって伸ばされたりゆがまされた画用紙が画用紙足るか（ベクトル空間たるか）を判定することが部分空間の証明

## 3. 基底と座標ベクトル

### 基底の概念
- 通常は標準基底を使用するが，別の基底を使用することもできる（表現に使用するパーツ）
- 基底（表現に使用するパーツ）が変わると線形写像の表現行列（設計図）が変わる
- 入力側と出力側の基底を定めてから初めて一様に表現行列が決まる
- 基底（パーツ）と表現行列（設計書）が変わっても，行っている操作（完成品）は同じ

### 座標ベクトル
- あるベクトル空間$V$のベクトル$v$があるとし，$V$の基底を$\{b_1,b_2,\cdots ,b_n\}$とする
- ベクトル$v$は基底ベクトルの線形結合$v=c_1b_1+c_2b_2+\cdots +c_nb_n$と表せる
- 係数の組$(c_1,c_2,\cdots ,c_n)^T$を座標ベクトル（成分表示）と呼ぶ
- 座標ベクトルは基底ありきのものであることに注意

### 表現行列と座標ベクトル
- 表現行列$A$は，入力ベクトルの「座標」を，出力ベクトルの「座標」に変換する
- 行列$A$は直接ベクトルの実体に作用するのではなく，「座標」に作用することに注意
- 入力空間と出力空間が一緒で，基底も同じという場合は，ベクトルの実体に表現行列が作用しているように見える

## 4. 部分空間の証明

### 部分空間の条件
部分空間の証明では以下の3つを示す：
1. **和について閉じている**
2. **スカラー倍について閉じている**
3. **ゼロベクトルを含む**

### 証明の意味
- これはある集合が「ベクトル空間としての性質を持っているか」を判定している
- そもそもベクトル空間が線形性を満たすので，ベクトル空間である証明をする際は線形性の証明が必須

### 具体例
連立方程式の解の集合：
- 1次元の解の集合は直線であり，ゼロベクトル（原点で自明な解）を含む
- そのベクトルの直線上はすべてその連立方程式の解になる
- 同じ方向のベクトルを足し合わせたり，定数倍かけても同じ直線状のベクトルになる

## 5. 固有値と固有ベクトル

### 固有値の求め方
- 固有値$\lambda$は固有多項式$\det(A - \lambda I)$を解くことで求まる
- $\lambda$に対する固有ベクトルは$(A - \lambda I)v = 0$を満たすベクトルであり，行列$A - \lambda I$の核に属する
- 行列$A$が固有ベクトル$v$に対して単に$\lambda$倍するということ

### 固有空間
- 固有ベクトルは（$a,b \neq 0$）としていたが，$a, b \in \mathbb{R}$とすることで，ゼロベクトルが加わり，ベクトル空間となる

## 6. 対角化

### 対角化の条件
- n次の正方行列において，n本の一次独立な固有ベクトルを取れるとき，その行列は固有ベクトルを並べた行列$P$によって対角化可能である
- 対角化すると$A^n$などの計算が容易になる

### 逆行列の求め方
対角行列を求める際，$A^{-1}$を求めるときの手順：
1. 余行列を並べる
2. 余行列の転置をとる
3. 行列式を求める
4. 行列式の逆数をとる
5. それを余行列の転置にかける

## 7. 正規直交化とグラム・シュミット法

### 正規直交化
- グラム・シュミットの直交化法を使用するとベクトルを正規直交化することができる
- 実対称行列は必ず正規直交行列で対角化することができる
- 重複しない固有値の場合，対応する固有ベクトルはすでに直交しており，それぞれ正規化するだけで正規直交行列を作れる
- 重解の場合でも，グラム・シュミットの正規直交化を使用することで，正規直交行列を作れる

### 正規直交行列の性質
- 正規直交行列は$P^t = P^{-1}$であり，この行列を使用し$\begin{pmatrix} x \\ y \end{pmatrix} = P \begin{pmatrix} X \\ Y \end{pmatrix}$とすることで2次形式から標準形に直すことができる

## 8. 直交行列

### 直交行列の定義
実正方行列$A$が直交行列であるとは、以下を満たすこと：
$$A^T A = AA^T = I$$

### 直交行列の重要な性質
1. **逆行列＝転置行列**：$A^{-1} = A^T$
2. **行列式**：$\det(A) = \pm 1$
3. **列ベクトルの正規直交性**：$A$の列ベクトルは正規直交基底を成す
4. **内積の保存**：$\langle Ax, Ay \rangle = \langle x, y \rangle$
5. **ベクトルの長さの保存**：$\|Ax\| = \|x\|$

### 幾何学的意味
- $\det(P) = +1$ならば回転
- $\det(P) = -1$ならば回転+鏡映

## 9. 二次形式と標準形

### 二次形式の行列表現
二次形式$ax^2 + 2bxy + cy^2$を以下のように表現：
$$ax^2 + 2bxy + cy^2 = (x \quad y) \begin{pmatrix} a & b \\ b & c \end{pmatrix} \begin{pmatrix}x \\ y\end{pmatrix}$$

### 標準形への変換手順
1. 行列の固有多項式を解いて固有値$\lambda$を求める
2. 各固有値に対応する固有ベクトルを求める
3. 固有ベクトルを正規化して正規直交行列$P$を作る
4. 変数変換$\begin{pmatrix}x \\ y \end{pmatrix} = P \begin{pmatrix}z_1 \\ z_2 \end{pmatrix}$を行う
5. 二次形式は$\lambda_1 z_1^2 + \lambda_2 z_2^2$となる

### 標準形の種類
- $x^2 + y^2 = 1$（円）
- $\frac{x^2}{a^2} + \frac{y^2}{b^2} = 1$（楕円）
- $\frac{x^2}{a^2} - \frac{y^2}{b^2} = 1$（双曲線）

## 10. 行列の階数（rank）

### 行列の階数の定義
1. $A$の0ではない小行列式の**最大次数**
2. $A$の**線形独立（一次独立）**な列ベクトルの最大個数
3. $A$の**線形独立（一次独立）**な行ベクトルの最大個数
4. $A$の**零空間の次元**（自由度）

### 小行列式
- 小行列式とは，元の行列から任意の行と列を選んで作った部分行列の行列式のこと
- 例：$3 \times 3$行列から2行2列を選んで作った$2 \times 2$行列の行列式

## 11. 線形変換と基底

### 線形変換の性質
- 表現行列を行基本変形したとき，1次独立なベクトルが$\text{Im}f$の基底
- 行基本変形によって，列間の一次関係は変化しない

### 基底と次元
- 基底とは，線形空間において，基準となるベクトルの集合
- 基底の1次結合で線形空間のすべてのベクトルを表現できる
- 次元は基底のベクトルの数：
  - ベクトルが1本（直線）なら1次元
  - 2本（平面）なら2次元
  - 3本（空間）なら3次元

### 自由変数と次元
- 自由変数の数が次元となる
- 自由変数の数 = 変数の数 - 制約式の数

## 12. 1次独立性の証明

### 1次独立性の証明方法
$\mathbf{a_1}, \mathbf{a_2}, \mathbf{a_3}$の1次独立を示すには：
$$k_1 \mathbf{a_1} + k_2 \mathbf{a_2} + k_3 \mathbf{a_3} = \mathbf{0}$$
とし，このとき$k_1 = k_2 = k_3 = 0$であることを示せばよい

## 13. 実用的な計算テクニック

### 行列式の計算
- $\|2A\|$について，$n$行（列）あるので，$(2A)$から2をくくりだすと，$2^n$倍となる
- したがって$\|2A\| = 2^n \|A\|$

### 行基本変形と行列
- 行基本変形はその行基本変形に対応するある行列を左からかけることに相当する
- $[A | E] = [B | P]$のとき，$Q = P$，$B = PA$

### 計算時の注意点
- 行列は一つ計算ミスをすると，その後の計算が全て間違いになるので，慎重に計算する
- 常にこれであっているのか，整合性はあるか自分を疑うこと

## 14. 重積分での応用

### ヤコビアンと変換行列
- 重積分の変数変換では，ヤコビアンをかける必要がある
- 行列式の値は，その行列で変換されるときの面積や体積の変化率を表す
- 変換行列$T$のヤコビアンは変換行列$T$の行列式の絶対値の逆数：
  $$dxdy = \frac{1}{|\det(T)|} dudv$$

### 具体的な応用例
二次形式$ax^2 + 2bxy + cy^2$を含む重積分：
$$\int_{-\infty}^{\infty} \int_{-\infty}^{\infty} e^{-(ax^2 + 2bxy + cy^2)} dxdy = \frac{\pi}{\sqrt{ac - b^2}}$$

## まとめ

行列・ベクトルの理論は，線形写像の概念を中心として，基底・座標変換・対角化・二次形式などの重要な概念が有機的に結びついている。これらの概念を理解することで，多変数の微積分や重積分における変数変換，幾何学的変換などの高度な数学的操作を効果的に行うことができる。
