# 微分積分総合まとめ（6月・7月）

## 1. 基本的な微分法

### 1.1 三角関数のn次導関数
三角関数のn次導関数は周期的で，$\frac{\pi}{2}$ずらすことで，もとに戻すことができる：
$$
\begin{align*}
-\sin(\theta) &= \cos(\theta + \frac{\pi}{2}) \\
\cos(\theta) &= \sin(\theta + \frac{\pi}{2})
\end{align*}
$$
ここで，$\sin$から$\cos$に戻る際は，-が出てくることに注意．

### 1.2 ライプニッツの公式
2つの関数の積のn次導関数を求める時に使用：
$$
\begin{align*}
\frac{d^n}{dx^n} f(x)g(x) &= \sum_{k=0}^{n} \binom{n}{k} f^{(k)}(x) g^{(n-k)}(x) \\
&= f(x)g^{(n)}(x) + f^{(1)}(x)g^{(n-1)}(x) + \cdots + f^{(n)}(x)g(x)
\end{align*}
$$

### 1.3 組み合わせ計算の覚え方
$$_nC_k = \frac{n!}{k!(n-k)!}$$

覚え方：
- まず直感的にわかりやすい$_nP_k$を考える
- $P$は順列で，順番を考慮するので$_nP_k = \frac{n!}{(n-k)!}$
- 順番を考慮しない組み合わせは，順列を$k!$で割ることで求まる

## 2. テイラー展開とマクローリン展開

### 2.1 マクローリン展開の剰余項
マクローリン展開の剰余項は$\theta x$で置かれるが，ここでは$0 < \theta < 1$である事がとても重要：
$$
R_n(x) = \frac{f^{(n+1)}(\theta x)}{(n+1)!}x^{n+1} \quad (0 < \theta < 1)
$$
パラメータ$\theta$を使う事で，簡単にxの範囲を制限することができる．

### 2.2 偶奇で分けた展開
$f(x) = \sin^2 x$のマクローリン展開のように，偶数の項のみが現れ，その偶数の項の中でも符号が交代する場合：
$$
\begin{align*}
f^n(0) &= 2^{n - 1} \sin \frac{n - 1}{2}\pi \\
&= \begin{cases}
    0 & (n = 2k - 1)\\
    2^{2k - 1} (-1)^{k - 1} & (n = 2k)
\end{cases}
\end{align*}
$$

### 2.3 2階飛びの漸化式
$$
y^{(n + 2)} = (n^2 - a^2)y^{(n)}
$$
のような2階飛びの漸化式の時は偶奇に分けて考える：
- $n = 1, 2, 3, \cdots$で$k = 1, 2, 3, \cdots$のとき$n = 2k - 1, 2k$
- $n = 1, 2, 3, \cdots$で$k = 0, 1, 2, \cdots$のとき$n = 2k + 1, 2k + 2$

## 3. 極限と収束

### 3.1 ロピタルの定理
$\frac{0}{0}$や$\frac{\infty}{\infty}$の形の極限を求める時に使用．極限を求める関数に変な乗数がついている場合はその関数の対数の極限を求める事で解決する．

### 3.2 収束・大小関係の証明
剰余項が0に収束することを示す時，$\frac{|x|}{n!}$よりもでかい$\frac{|x|}{N}$をn乗した値が0に収束するので，それよりも小さい$\frac{|x|}{n!}$は当たり前に収束することを利用する．

### 3.3 ライプニッツの定理（交代級数）
$\sum_{n = 1}^{\infty} (-1)^n \frac{1}{\sqrt{n}}$は交代級数なので，単調減少かどうか，極限が0かどうかで収束発散を判定できる．

### 3.4 極限の記号
- $+0$：正の方向から0に近づくときの極限
- $-0$：負の方向から0に近づくときの極限
- $1+0$：正の方向から1に近づくときの極限
- $1-0$：負の方向から1に近づくときの極限

## 4. 平均値の定理

### 4.1 平均値の定理の定義
$f(x)$が区間$[a, b]$で連続，$(a, b)$で微分可能なとき：
$$
\exists c \in (a, b) \quad f'(c) = \frac{f(b) - f(a)}{b - a}
$$

### 4.2 直感的理解
AからBまでにいく道がどんだけぐにゃぐにゃでも，AからBまで結んだ直線と同じ傾きになる点$c$があるということ．

### 4.3 関数の大小関係の証明
**導関数で正負を調べる方法**：
- $f(x) > 0$を示すには：
  - $f'(x) > 0$（単調増加）かつ$f(a) > 0$（始点が正）
  - $f'(x) < 0$（単調減少）かつ$\lim_{x \to \infty}f(x) = a$（終点が負でない）

**差を取って符号を見る方法**：
- $f(x) - g(x)$の形にして，その符号を調べる

## 5. 基本的な積分法

### 5.1 三角関数の恒等式
$$
\sin^2 x = (1 - \cos^2 x) = (1 - \cos x)(1 + \cos x)
$$
のような因数分解を積分でも活用する．

### 5.2 因数分解の活用
$$
(x^2 - y^2) = (x - y)(x + y)
$$
のような一般的な因数分解を三角関数でも思いつくようにしておく．

### 5.3 微分を利用した原始関数の発見
微分したやつで被積分関数作れば，作ったときに使ったのが原始関数になる．

## 6. 置換積分

### 6.1 オイラー置換
$\sqrt{ax^2 + bx +c}$という形の式を積分するときに使用：

**1型 $(a > 0)$**
$$
\sqrt{ax^2 + bx + c} = t \pm \sqrt{a}x
$$

**2型 $(c > 0)$**
$$
\sqrt{ax^2 + bx + c} = tx \pm \sqrt{c}
$$

**3型 $(b^2 - 4ac > 0)$**
$$
\sqrt{ax^2 + bx + c} = (x - \alpha)t \quad \text{（$\alpha$ は根）}
$$

### 6.2 三角関数の置換
$$
\int \frac{1}{\sqrt{x(1-x)}}dx
$$
のような形の積分は，$x = \sin^2 \theta$や$\cos^2 \theta$の形で置換する．

## 7. 広義積分

### 7.1 広義積分の基本的な処理
$t$で置換して，発散しない形になっても「広義であること」を無視してはいけない．

思考フロー：
1. $\int_{1}^{3} \frac{1}{\sqrt{x^2 - 1}}dx$（1が特異点なので広義積分）
2. $\lim_{\alpha \to 1+0} \int_{\alpha}^{3} \frac{1}{\sqrt{x^2 - 1}}dx$（極限で表現）
3. 置換積分を実行
4. 極限を計算

### 7.2 広義積分の収束条件
$$
\int_{c}^{\infty} \frac{1}{x^p}dx \quad (p > 1 \to \text{収束}, p \leq 1 \to \text{発散})
$$

### 7.3 収束発散の判定
$$
\int_{1}^{\infty} \frac{x^n}{x^2 + 1}dx
$$
について，あるnで発散するならば，それより大きいnは当たり前に発散．

## 8. 媒介変数と曲線

### 8.1 媒介変数で表された曲線の面積
媒介変数であらわされた曲線で囲まれた面積は自動的に置換積分．$x$の向きによっては，計算結果の面積が負になることもある．

### 8.2 曲線の長さ
$$
L = \int_a^b \sqrt{\left(\frac{dx}{dt}\right)^2 + \left(\frac{dy}{dt}\right)^2} dt
$$

直感的意味：
- $\frac{dx}{dt}$：x方向の変化率
- $\frac{dy}{dt}$：y方向の変化率
- $\sqrt{\left(\frac{dx}{dt}\right)^2 + \left(\frac{dy}{dt}\right)^2}$：速さ
- $\sqrt{\left(\frac{dx}{dt}\right)^2 + \left(\frac{dy}{dt}\right)^2} dt$：微小な道のり

### 8.3 増減表での注意点
yで囲まれた領域の増減表を書くときは，$\frac{dy}{dt} = 0$に注目する．

## 9. 多変数関数の微分積分

### 9.1 陰関数定理
$$
F(x, y, z) = \frac{x}{y} + \frac{y}{z} + \frac{z}{x} - 1 = 0
$$
のような陰関数の偏微分を求めるには：
$$
\frac{\partial z}{\partial x} = - \frac{\partial F}{\partial x} \cdot \frac{\partial z}{\partial F}
$$
$$
\frac{\partial z}{\partial y} = - \frac{\partial F}{\partial y} \cdot \frac{\partial z}{\partial F}
$$

### 9.2 3変数の関数の最大最小値
3変数の関数の最大最小値を求める問題では：
**「制約の式を使えば1変数削れるな」**と考える．

条件：
1. $D$は閉じた有界領域かつ$f$は連続関数である
2. $D$の境界で最大最小値を取らない

この条件を満たすとき，内部の停留点で最大最小値をとる．

### 9.3 ラグランジュの乗数法
制約式$g(x, y, z) = 0$のもとで，関数$f(x, y, z)$の極値を求める：

$$
\begin{align*}
f_x(a, b, c) &= \lambda g_x(a, b, c) \\
f_y(a, b, c) &= \lambda g_y(a, b, c) \\
f_z(a, b, c) &= \lambda g_z(a, b, c) \\
g(a, b, c) &= 0
\end{align*}
$$

解法：
1. 上記の連立方程式を解いて$(a, b, c)$と$\lambda$を求める
2. 基本的には1～3を$(a, b, c)$について解いて，それを4に代入

## 10. 重積分と極座標

### 10.1 極座標での微小面積
極座標表示の時の微小面積は：
$$
dS = \frac{1}{2} r^2 d\theta
$$

### 10.2 扇形の面積
ラジアンでの扇形の面積は：
$$
\frac{1}{2}r^2\theta
$$

微小角度$d\theta$の場合：
$$
\frac{1}{2}r^2d\theta
$$

### 10.3 積分範囲の設定
積分範囲は2つの円柱が重なってるところ．つまり，切り口は正方形でOK．

## 11. 微分方程式

### 11.1 微分方程式の基本原則
任意定数$A$のスケーリングによって，どうとでもなるようなもの（例えば，符号や定数係数）は$A$**にすべてまとめる**．

### 11.2 ベルヌーイの微分方程式
$$
y^{\prime} + P(x)y = f(x)y^n \quad (n = 2, 3, \ldots)
$$
このような形の微分方程式は$z = y^{1-n}$の置き換えで一次線形微分方程式になる．

### 11.3 二階線形微分方程式の解法
特性方程式$t^2 + pt + q = 0$の解を$\alpha, \beta$とするとき：

1. **$\alpha,\beta$が相異なる実数解のとき**
   $$
   y = C_1 e^{\alpha x} + C_2 e^{\beta x}
   $$

2. **$\alpha, \beta$が重解（$\alpha = \beta$）のとき**
   $$
   y = C_1 e^{\alpha x} + C_2 x e^{\alpha x}
   $$

3. **$\alpha, \beta$が虚数解$p\pm qi$のとき**
   $$
   y = C_1 e^{px} \cos(qx) + C_2 e^{px} \sin(qx)
   $$

### 11.4 非同次微分方程式の解
$$
\begin{align*}
    \text{非同次の一般解} &= \text{同次の一般解} + \text{特解}\\
    \text{非同次の一般解} &= C_1 y_1 + C_2 y_2 + y
\end{align*}
$$

### 11.5 特解の求め方
普通におくと，うまく特解を求められない場合がある．その場合は少し違う置き方で特解を求める：
$$
\begin{align*}
    y &= Axe^{2x}\\
    y &= A\sin(2x) + B\cos(2x)
\end{align*}
$$

### 11.6 オイラーの微分方程式
$$
x^2y^{\prime\prime} + axy^{\prime} + by = 0
$$
は$x = e^t$と置くと，二階線形微分方程式になる．

### 11.7 微分方程式の特解（未定係数法）
右辺が$2x^2 + 1$のように2次式以上の時は，最も複雑になる時を考える：
$$y = Ax^2 + Bx + C$$
と置くことで，右辺と同じ次数のものを作る．余計な項があっても，係数比較で結局消えるので，無駄を気にせず全部の次数，未定係数で置く．

## 12. 連続性と微分可能性

### 12.1 連続の定義
$$
\lim_{x \to a} f(x) = f(a)
$$
が成り立つとき，$f(x)$は$x=a$で連続である．

### 12.2 微分可能性の定義
$$
f^{\prime}(a) = \lim_{h \to 0} \frac{f(a + h) - f(a)}{h}
$$
が存在するとき，$f(x)$は$x=a$で微分可能である．

## 13. 有名な不等式

### 13.1 基本的な不等式
$$
\sin x < x \quad (x > 0)
$$
は有名な不等式．

## 14. 複素関数と留数定理

### 14.1 複素関数のテイラー展開
- 0を中心とする複素関数のテイラー展開は$z^n$の形
- 1を中心とする複素関数のテイラー展開は$(z-1)^n$の形

基本形：
$$
\frac{1}{1 - z} = \sum_{n=0}^{\infty} z^n \quad (|z| < 1)
$$

1を中心とした展開：
$$
\frac{1}{1 - (z - a)} = \sum_{n=0}^{\infty} (z - a)^n \quad (|z - a| < 1)
$$

### 14.2 留数定理
特異点の分類：
1. 負冪の項がないとき→除去可能特異点
2. 負冪の項があるが，n個→n位の極
3. 負冪の項が無数にある→真正特異点

積分の計算：
$$
\int_C (z - a)^n dz = \begin{cases}
0 & (n \geq 0) \\
2 \pi i & (n = -1) \\
0 & (n < -1)
\end{cases}
$$

留数の定義：
$$
\text{Res}(f(z): a) = \frac{1}{2 \pi i} \oint_C f(z) dz
$$

実際の計算フロー：
1. 領域内部の特異点を求める
2. 特異点の位数を求める
3. 留数を求める
4. 留数の和を求める
5. 留数の和に$2 \pi i$をかける

## 15. 実用的な計算テクニック

### 15.1 直線の方程式
$(x_1, y_1)$を通る，傾き$a$の直線の方程式：
$$
y - y_1 = a(x - x_1)
$$

### 15.2 点と直線の距離
直線$ax + by + c = 0$と点$(x_0, y_0)$の距離：
$$
d = \frac{|ax_0 + by_0 + c|}{\sqrt{a^2 + b^2}}
$$

### 15.3 積分の符号
余因子展開，符号に気を付ける！

## まとめ

微分積分学は、関数の局所的な変化（微分）と全体的な累積（積分）を扱う数学の基礎分野である。基本的な微分法則から始まり、テイラー展開、極限の理論、積分技法（置換積分、部分積分、広義積分）、多変数関数の微分積分、微分方程式まで、幅広い概念が体系的に結びついている。

特に重要なのは：
1. **基本的な微分・積分の計算技法**の習得
2. **極限と収束**の概念の理解
3. **多変数関数**での偏微分とラグランジュの乗数法
4. **微分方程式**の解法
5. **複素関数論**への応用

これらの概念を理解することで、物理学、工学、経済学などの様々な分野で数学的モデリングを行うことが可能になる。
