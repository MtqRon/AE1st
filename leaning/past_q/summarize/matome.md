はい、承知いたしました。ご提示いただいた日々の学習記録と「pastq_math.md」の内容を対応させ、重要理論とご自身のまとめを一枚で確認できる形式で出力します。

---

### 数学重要理論と学習メモの対応表

この表は、都立大の過去問分析から抽出された数学の重要理論と、ご自身の日々の学習メモを関連付けてまとめたものです。

#### I. 微積分 (Calculus)

1.  **関数の微分 (Differentiation of Functions)**
    *   **1変数関数の微分**
        *   **ライプニッツの公式**: 関数が積の形の時のn階微分に使う。これはテイラー展開の一般系かもしれない。
        *   **三角関数のn次導関数**: 周期性があり、$\frac{\pi}{2}$ずらすことで元に戻せる。$\sin$から$\cos$に戻る際に符号に注意。
        *   **2階飛びの漸化式**: 偶奇に分けて考える（例: $n=2k, 2k-1$や$n=2k+1, 2k+2$と置く）。
    *   **多変数関数の偏微分**
        *   **陰関数定理**: $F(x, y, z) = 0$ のような陰関数の偏微分を求める際に適用する（例: $\frac{\partial z}{\partial x} = - \frac{\partial F}{\partial x} \cdot \frac{\partial z}{\partial F}$）。後で詳しく学ぶ必要がある。
        *   **3変数の関数の最大最小値**: 制約式を使って1変数を削ることを考える。閉じた有界領域で連続な関数は、境界で最大最小値を取らない場合、内部の停留点で最大最小値を取る。
    *   **陰関数の微分**
        *   上記「陰関数定理」を参照。
    *   **連鎖律 (Chain Rule)**
        *   直接的な言及は今回ありませんが、座標変換時などに偏導関数の変換に重要です。

2.  **極限 (Limits)**
    *   **関数の極限**
        *   **数列の極限**: 符号があると大小比較が難しいので絶対値（$||$）をつけて考えるとよい。絶対値の極限が0に収束するなら、元の数列も0に収束する。
        *   **ロピタルの定理**: $\frac{0}{0}$や$\frac{\infty}{\infty}$の形の極限を求める時に使用。
        *   **極限に近づく方向**: +0 (正の方向から0に近づく)、-0 (負の方向から0に近づく) など。
        *   $\ln x$の極限: $x$が0に近づくと$-\infty$に発散する。
    *   **数列の極限**
        *   上記「数列の極限」を参照。

3.  **極値 (Extrema)**
    *   **1変数関数の極値 / 多変数関数の極値**
        *   上記「3変数の関数の最大最小値」を参照。停留点を求めて最大最小値を確定する。
    *   **条件付き極値 (Constrained Optimization)**
        *   **ラグランジュの乗数法**: 制約条件$g(x, y, z)=0$のもとで関数$f(x, y, z)$の極値を求める方法。候補点$(a, b, c)$は$f_x = \lambda g_x$, $f_y = \lambda g_y$, $f_z = \lambda g_z$, $g=0$を解いて求める。

4.  **積分 (Integration)**
    *   **不定積分・定積分**
        *   **分数関数の積分**:
            *   分母を微分したものが分子にあれば$\ln$で積分できる。
            *   分母が2次式で因数分解できない場合、平方完成して$\frac{1}{1+x^2}$の形にすると$\tan^{-1}$で積分できる。
        *   **三角関数の積分**: 最終手段として$t = \tan \frac{x}{2}$と置換する方法がある。この時、$\sin x = \frac{2t}{1+t^2}$, $\cos x = \frac{1-t^2}{1+t^2}$, $dx = \frac{2}{1+t^2} dt$となる。
        *   **Euler(オイラー)置換**: 分母にルートの中に入った二次式 ($\sqrt{x^2 - x + 2}$)がある時に使用する。$\sqrt{ax^2 + bx + c} = t \pm \sqrt{a}x$（1型, $a>0$）など、3つの型がある。
        *   **$\arcsin$を目指す積分**: 分母が因数分解できない$\sqrt{}$の中が二次式の場合は、平方完成して$\arcsin$の形を目指す。
        *   **特殊な形**: $\int \frac{1}{\sqrt{x(1-x)}}dx$のような積分は、$x = \sin^2 \theta$や$\cos^2 \theta$で置換し、$1 - \sin^2 \theta$を狙う。
    *   **広義積分 (Improper Integrals)**
        *   **定義**: ある定数までの定積分を計算し、その結果を無限大や特異点に極限で近づけることで値を求める。特異点に近づける際は、定義できる内側から近づける。
        *   **収束発散の判定**:
            *   既知の収束・発散関数（例: $\frac{1}{x}$は発散、$\frac{1}{x^2}$は収束）と比較することを目標とする。
            *   $\int_{c}^{\infty} \frac{1}{x^p}dx$は$p > 1$で収束、$p \leq 1$で発散する。
            *   **置換後の広義積分**: 置換によって発散しない形になっても、広義積分であることを無視してはいけない。
    *   **漸化式 (Reduction Formulas)**
        *   具体的な積分の漸化式の導出方法についての言及は少ないですが、積分$I_n = J_n$を示すために$\sin x = -\cos(x + \frac{\pi}{2})$を使うというメモがあります。
    *   **二重積分 (Double Integrals) / 座標変換による積分**
        *   **二次形式とヤコビアン**: 二次形式$ax^2 + 2bxy + cy^2$は行列を用いて表現でき、固有値と固有ベクトルを用いて標準形$\lambda_1 z_1^2 + \lambda_2 z_2^2$に変換できる。さらに変数変換$u = \sqrt{\lambda_1} z_1, v = \sqrt{\lambda_2} z_2$を行うと$u^2 + v^2$となり、楕円が半径1の円に変形される。この変換におけるヤコビアンは変換行列$T$の行列式の絶対値の逆数になる。
        *   **微小面積**: 極座標表示での微小面積は$dS = \frac{1}{2} r^2 d\theta$と表される。
        *   **積分範囲**: 2つの円柱が重なるところの積分は、切り口が正方形となる。

5.  **テイラー展開・マクローリン展開 (Taylor and Maclaurin Series)**
    *   **基本的な関数の展開**
        *   **複素関数のテイラー展開**: $0$を中心とする場合は$z^n$の形、$1$を中心とする場合は$(z-1)^n$の形を目指す。$\frac{1}{1-z} = \sum_{n=0}^{\infty} z^n$の形を基本として変形する。
    *   **近似と誤差評価 / テイラーの定理**
        *   **剰余項**: $|R_n(\theta x)|$は誤差の上限となる。ラグランジュの剰余項$R_n(x) = \frac{f^{(n+1)}(\theta x)}{(n+1)!}x^{n+1}$において、$0 < \theta < 1$が非常に重要。
        *   **収束を示すテクニック**: 剰余項が0に収束することを示す際、より大きい簡単な関数が0に収束するなら、より小さい元の関数も収束することを利用する。

6.  **数列と級数 (Sequences and Series)**
    *   **数列の極限**: 「2. 極限」を参照。

#### II. 線形代数 (Linear Algebra)

1.  **ベクトル空間と部分空間 (Vector Spaces and Subspaces)**
    *   **部分空間の定義と証明**:
        *   ある集合が部分空間であるためには、以下の3つを示す必要がある: 1. ゼロベクトルが含まれる。 2. スカラー倍について閉じている。 3. 和について閉じている。
        *   連立方程式の解の集合は部分空間である。
    *   **生成する空間 / 次元 (Dimension)**
        *   **基底**: 線形空間において、基準となるベクトルの集合。基底の1次結合で線形空間のすべてのベクトルを表現できる。
        *   **次元**: 基底のベクトルの数である。
        *   **自由度**: 零空間の次元と一致する。自由変数の数が次元となる。

2.  **線形独立性・線形従属性 (Linear Independence and Dependence)**
    *   **1次独立の示し方**: $k_1 \mathbf{a_1} + k_2 \mathbf{a_2} + k_3 \mathbf{a_3} = \mathbf{0}$とし、$k_1 = k_2 = k_3 = 0$であることを示せばよい。
    *   **行基本変形**: 列間の1次関係は変化しない。

3.  **基底と座標変換 (Bases and Coordinate Transformations)**
    *   **直交基底**:
        *   **グラムシュミットの直交化法**: ベクトルを正規直交化する。
        *   **実対称行列**: 重複しない固有値の場合、対応する固有ベクトルは既に直交しているため、正規化するだけで正規直交行列が作れる。重解の場合でもグラムシュミット法で作成可能。
        *   **正規直交行列$P$**: $P^T P = I$、$P^{-1} = P^T$の性質を持つ。

4.  **行列の演算と性質 (Matrix Operations and Properties)**
    *   **行列の積と冪**
        *   **対角化**: 対角化可能であれば、$A^n$などの計算が容易になる。
    *   **転置行列 / 正則性・逆行列**
        *   **直交行列**: 転置行列が逆行列になる ($A^T A = I \implies A^{-1} = A^T$)。
        *   **逆行列の計算手順**: 余行列を並べ、転置をとり、行列式の逆数をかける。
    *   **行列式 (Determinants)**
        *   **直交行列の行列式**: $\det(A) = \pm 1$。
        *   **性質**: $|AB| = |A| |B|$。$|2A| = 2^n |A|$（$n$は行列の次数）。
        *   **余因子展開**: 符号に注意する。
    *   **階数 (Rank)**
        *   **定義**:
            1.  $A$の0ではない小行列式の最大次数。
            2.  $A$の線形独立な列ベクトルの最大個数。
            3.  $A$の線形独立な行ベクトルの最大個数。
            4.  $A$の零空間の次元（自由度）。

5.  **線形写像 (Linear Transformations)**
    *   **定義**: 和を保つ（加法性$f(u+v)=f(u)+f(v)$）とスカラー倍を保つ（斉次性$f(cu)=cf(u)$）を満たす写像。
    *   **表現行列**: あるベクトルに行列を作用させると新しいベクトルに変換され、この「行列によるベクトルの変換」が線形写像そのもの。
        *   基底（表現に使用するパーツ）が変わると表現行列（設計図）も変わるが、行っている操作（完成品）は同じ。
        *   表現行列は直接ベクトルの実体に作用するのではなく、「座標」に作用する。
        *   **与えられた基底に関する表現行列F**: $\mathbf{F} = \mathbf{Q_o^{-1}}\mathbf{A}\mathbf{Q_i}$で求められる。ここで$\mathbf{A}$は標準基底における表現行列、$\mathbf{Q_i}$はドメイン側基底行列、$\mathbf{Q_o}$はコドメイン側基底行列。
        *   **表現行列を行基本変形したとき**: 1次独立なベクトルが$Imf$の基底となる。
    *   **核 (Kernel/Null Space)**
        *   **定義**: 線形写像$f(x)$において、原点に写像されるベクトルの集合。線形写像の表現行列の零空間である。
        *   **次元**: 同次の連立方程式の解の集合であり、自由度が$k$のとき核の次元は$k$である。核の基底は解空間の基底と同様に求められる。

6.  **固有値と固有ベクトル (Eigenvalues and Eigenvectors)**
    *   **定義**: $A\mathbf{v} = \lambda \mathbf{v}$を満たす$\mathbf{v}$が固有ベクトル、$\lambda$が固有値。
    *   **計算**: 固有多項式$\det(A - \lambda I) = 0$を解いて$\lambda$を求める。求めた$\lambda$に対応する固有ベクトルは$(A - \lambda I)\mathbf{v} = \mathbf{0}$を満たすベクトルであり、行列$A - \lambda I$の核に属する。

7.  **行列の対角化 (Diagonalization of Matrices)**
    *   **対角化可能性**: n次の正方行列において、n本の1次独立な固有ベクトルを取れるとき、その行列は固有ベクトルを並べた行列$P$によって対角化可能である。
    *   **実対称行列**: 必ず正規直交行列で対角化できる。
    *   **応用**: 対角化すると$A^n$などの計算が容易になる。

8.  **連立一次方程式 (Systems of Linear Equations)**
    *   **解の構造**: 解の集合は部分空間である。核は同次の連立方程式の解の集合となる。

#### III. その他

*   **数学的帰納法**: 示す系の問題ではオプションとして持っておく。基底ケース、帰納ステップ、結論の3段階。
*   **平均値の定理**: $f(x)$が連続で微分可能なとき、$f'(c) = \frac{f(b) - f(a)}{b - a}$を満たす$c$が存在することを示す。
*   **コーシーの積分公式**: $f(z)$を単連結領域$D$上で正則な関数とする時、$\int_{\partial D} \frac{f(z)}{z - a} dz = 2 \pi i f(a)$と表される。$a$は$D$の内部の特異点。
*   **領域を分ける際の考え方**: 積分路の方向（反時計回りが正）に注意。時計回りになっている場合は符号が反対になる。
*   **複素積分と留数**: ローラン級数展開の積分は$n = -1$の項以外が消えるため、$n = -1$の項の係数（留数）が重要。留数を計算し、$2 \pi i$をかけることで積分値を求める。
*   **ラジアン**: 弧の長さ$s$、半径$r$とすると$s = r \theta$で定義される。単位円上では$s = \theta$となり、弧の長さとラジアンが一致する。扇形の面積は$\frac{1}{2}r^2\theta$。
*   **関数の大小関係の示し方**:
    1.  **導関数で正負を調べる**: 極限と導関数から増減を調べる。
    2.  **差を取って符号を見る**: $f(x) - g(x)$の符号を調べる。
*   **微分方程式**:
    *   **任意定数のまとめ方**: 任意定数$A$のスケーリングによってどうとでもなるものは、$A$にまとめる。
    *   **ベルヌーイの微分方程式**: $y^{\prime} + P(x)y = f(x)y^n$は、$z = y^{1-n}$の置き換えで線形微分方程式になる。
    *   **線形微分方程式の一般解**: 特性方程式$t^2 + pt + q = 0$の解（相異なる実数解、重解、虚数解）によって一般解の形が異なる（暗記する）。
    *   **非同次線形微分方程式**: 非同次の一般解 = 同次の一般解 + 特解。
    *   **オイラーの微分方程式**: $x^2y^{\prime\prime} + axy^{\prime} + by = 0$は、$x = e^t$と置くと二階線形微分方程式になる。
*   **クイックソート**: 枢軸（ピボット）を決めて、それより小さいものを左、大きいものを右に集め、再帰的に分割していく。
*   **C言語配列のインデックス**: 0から始まるため、負の範囲を持つデータを扱う際はBias定数を使用する。
*   **ランダムな順列の生成**: 効率の悪い$O(N^2)$の方法と、効率の良い$O(N)$の方法がある。
*   **ユークリッドの互除法**: 2つの整数の最大公約数を求める。減算より剰余を用いた方が効率が良い（$O(\log(\min(m, n)))$）。
*   **エラトステネスの篩**: 効率よく素数を求める方法（$O(n\log\log n)$）。

---